{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/app/auth/callback/route.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { NextRequest, NextResponse } from 'next/server'\n\nexport async function GET(req: NextRequest) {\n  try {\n    const requestUrl = new URL(req.url)\n    const code = requestUrl.searchParams.get('code')\n\n    console.log('[auth-callback] Code:', code ? 'present' : 'missing')\n\n    if (code) {\n      const cookieStore = cookies()\n      \n      const supabase = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n          cookies: {\n            get(name: string) {\n              return cookieStore.get(name)?.value\n            },\n            set(name: string, value: string, options: any) {\n              try {\n                cookieStore.set({ name, value, ...options })\n              } catch (e) {\n                console.error('[auth-callback] Cookie set error:', e)\n              }\n            },\n            remove(name: string, options: any) {\n              try {\n                cookieStore.set({ name, value: '', ...options })\n              } catch (e) {\n                console.error('[auth-callback] Cookie remove error:', e)\n              }\n            },\n          },\n        }\n      )\n      \n      const { data, error } = await supabase.auth.exchangeCodeForSession(code)\n      \n      if (error) {\n        console.error('[auth-callback] Exchange error:', error)\n        return NextResponse.redirect(new URL(`/login?error=${error.message}`, req.url))\n      }\n\n      console.log('[auth-callback] Success! User:', data.user?.email)\n    }\n\n    return NextResponse.redirect(new URL('/dashboard', req.url))\n  } catch (error) {\n    console.error('[auth-callback] Unexpected error:', error)\n    return NextResponse.redirect(new URL('/login?error=callback_failed', req.url))\n  }\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM,aAAa,IAAI,IAAI,IAAI,GAAG;QAClC,MAAM,OAAO,WAAW,YAAY,CAAC,GAAG,CAAC;QAEzC,QAAQ,GAAG,CAAC,yBAAyB,OAAO,YAAY;QAExD,IAAI,MAAM;YACR,MAAM,cAAc,IAAA,4IAAO;YAE3B,MAAM,WAAW,IAAA,iMAAkB,sUAGjC;gBACE,SAAS;oBACP,KAAI,IAAY;wBACd,OAAO,YAAY,GAAG,CAAC,OAAO;oBAChC;oBACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;wBAC3C,IAAI;4BACF,YAAY,GAAG,CAAC;gCAAE;gCAAM;gCAAO,GAAG,OAAO;4BAAC;wBAC5C,EAAE,OAAO,GAAG;4BACV,QAAQ,KAAK,CAAC,qCAAqC;wBACrD;oBACF;oBACA,QAAO,IAAY,EAAE,OAAY;wBAC/B,IAAI;4BACF,YAAY,GAAG,CAAC;gCAAE;gCAAM,OAAO;gCAAI,GAAG,OAAO;4BAAC;wBAChD,EAAE,OAAO,GAAG;4BACV,QAAQ,KAAK,CAAC,wCAAwC;wBACxD;oBACF;gBACF;YACF;YAGF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,sBAAsB,CAAC;YAEnE,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,mCAAmC;gBACjD,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,aAAa,EAAE,MAAM,OAAO,EAAE,EAAE,IAAI,GAAG;YAC/E;YAEA,QAAQ,GAAG,CAAC,kCAAkC,KAAK,IAAI,EAAE;QAC3D;QAEA,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;IAC5D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,gCAAgC,IAAI,GAAG;IAC9E;AACF"}}]
}