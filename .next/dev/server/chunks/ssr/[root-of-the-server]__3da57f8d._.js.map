{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/lib/supabase.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  // #region agent log\n  fetch('http://127.0.0.1:7244/ingest/382c8fcb-0fa3-42bd-87b1-6fecf8b7a1fb',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'lib/supabase.ts:createClient',message:'createClient called',data:{envUrl:!!process.env.NEXT_PUBLIC_SUPABASE_URL,envKey:!!process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY},timestamp:Date.now(),sessionId:'debug-session',runId:'post-fix',hypothesisId:'H3'})}).catch(()=>{});\n  // #endregion\n\n  const cookieStore = await cookies()\n\n  // #region agent log\n  fetch('http://127.0.0.1:7244/ingest/382c8fcb-0fa3-42bd-87b1-6fecf8b7a1fb',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'lib/supabase.ts:afterCookies',message:'cookies() result type after await',data:{type:typeof cookieStore,isPromise:cookieStore instanceof Promise,hasGet:typeof cookieStore?.get,hasGetAll:typeof cookieStore?.getAll},timestamp:Date.now(),sessionId:'debug-session',runId:'post-fix',hypothesisId:'H1'})}).catch(()=>{});\n  // #endregion\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        get(name: string) {\n          // #region agent log\n          try { const val = cookieStore.get(name)?.value; fetch('http://127.0.0.1:7244/ingest/382c8fcb-0fa3-42bd-87b1-6fecf8b7a1fb',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'lib/supabase.ts:get',message:'cookie get called',data:{name,hasValue:!!val},timestamp:Date.now(),sessionId:'debug-session',runId:'post-fix',hypothesisId:'H2'})}).catch(()=>{}); return val; } catch(e:any) { fetch('http://127.0.0.1:7244/ingest/382c8fcb-0fa3-42bd-87b1-6fecf8b7a1fb',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'lib/supabase.ts:get:error',message:'cookie get error',data:{name,error:e?.message},timestamp:Date.now(),sessionId:'debug-session',runId:'post-fix',hypothesisId:'H1'})}).catch(()=>{}); throw e; }\n          // #endregion\n        },\n        set(name: string, value: string, options: any) {\n          try {\n            cookieStore.set(name, value, options)\n          } catch {\n            // Ignore errors in Server Components\n          }\n        },\n        remove(name: string, options: any) {\n          try {\n            cookieStore.set(name, '', { ...options, maxAge: 0 })\n          } catch {\n            // Ignore errors in Server Components\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,oBAAoB;IACpB,MAAM,qEAAoE;QAAC,QAAO;QAAO,SAAQ;YAAC,gBAAe;QAAkB;QAAE,MAAK,KAAK,SAAS,CAAC;YAAC,UAAS;YAA+B,SAAQ;YAAsB,MAAK;gBAAC,QAAO,CAAC;gBAAsC,QAAO,CAAC;YAA0C;YAAE,WAAU,KAAK,GAAG;YAAG,WAAU;YAAgB,OAAM;YAAW,cAAa;QAAI;IAAE,GAAG,KAAK,CAAC,KAAK;IACza,aAAa;IAEb,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,oBAAoB;IACpB,MAAM,qEAAoE;QAAC,QAAO;QAAO,SAAQ;YAAC,gBAAe;QAAkB;QAAE,MAAK,KAAK,SAAS,CAAC;YAAC,UAAS;YAA+B,SAAQ;YAAoC,MAAK;gBAAC,MAAK,OAAO;gBAAY,WAAU,uBAAuB;gBAAQ,QAAO,OAAO,aAAa;gBAAI,WAAU,OAAO,aAAa;YAAM;YAAE,WAAU,KAAK,GAAG;YAAG,WAAU;YAAgB,OAAM;YAAW,cAAa;QAAI;IAAE,GAAG,KAAK,CAAC,KAAK;IAC3d,aAAa;IAEb,OAAO,IAAA,+LAAkB,sUAGvB;QACE,SAAS;YACP,KAAI,IAAY;gBACd,oBAAoB;gBACpB,IAAI;oBAAE,MAAM,MAAM,YAAY,GAAG,CAAC,OAAO;oBAAO,MAAM,qEAAoE;wBAAC,QAAO;wBAAO,SAAQ;4BAAC,gBAAe;wBAAkB;wBAAE,MAAK,KAAK,SAAS,CAAC;4BAAC,UAAS;4BAAsB,SAAQ;4BAAoB,MAAK;gCAAC;gCAAK,UAAS,CAAC,CAAC;4BAAG;4BAAE,WAAU,KAAK,GAAG;4BAAG,WAAU;4BAAgB,OAAM;4BAAW,cAAa;wBAAI;oBAAE,GAAG,KAAK,CAAC,KAAK;oBAAI,OAAO;gBAAK,EAAE,OAAM,GAAO;oBAAE,MAAM,qEAAoE;wBAAC,QAAO;wBAAO,SAAQ;4BAAC,gBAAe;wBAAkB;wBAAE,MAAK,KAAK,SAAS,CAAC;4BAAC,UAAS;4BAA4B,SAAQ;4BAAmB,MAAK;gCAAC;gCAAK,OAAM,GAAG;4BAAO;4BAAE,WAAU,KAAK,GAAG;4BAAG,WAAU;4BAAgB,OAAM;4BAAW,cAAa;wBAAI;oBAAE,GAAG,KAAK,CAAC,KAAK;oBAAI,MAAM;gBAAG;YACvwB,aAAa;YACf;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;gBAC3C,IAAI;oBACF,YAAY,GAAG,CAAC,MAAM,OAAO;gBAC/B,EAAE,OAAM;gBACN,qCAAqC;gBACvC;YACF;YACA,QAAO,IAAY,EAAE,OAAY;gBAC/B,IAAI;oBACF,YAAY,GAAG,CAAC,MAAM,IAAI;wBAAE,GAAG,OAAO;wBAAE,QAAQ;oBAAE;gBACpD,EAAE,OAAM;gBACN,qCAAqC;gBACvC;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/components/SignupsTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/SignupsTable.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/SignupsTable.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","ignoreList":[0]}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/components/SignupsTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/SignupsTable.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/SignupsTable.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA","ignoreList":[0]}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/app/dashboard/waitlist/%5Bid%5D/CopyUrlButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/dashboard/waitlist/[id]/CopyUrlButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/dashboard/waitlist/[id]/CopyUrlButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiT,GAC9U,+EACA","ignoreList":[0]}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/app/dashboard/waitlist/%5Bid%5D/CopyUrlButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/dashboard/waitlist/[id]/CopyUrlButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/dashboard/waitlist/[id]/CopyUrlButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","ignoreList":[0]}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/dpi/Desktop/_Projects/_Dev/baitlist/app/dashboard/waitlist/%5Bid%5D/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase'\nimport { redirect, notFound } from 'next/navigation'\nimport Link from 'next/link'\nimport SignupsTable from '@/components/SignupsTable'\nimport CopyUrlButton from './CopyUrlButton'\n\ninterface PageProps {\n  params: Promise<{ id: string }>\n}\n\nexport default async function WaitlistDetailPage({ params }: PageProps) {\n  const { id } = await params\n  const supabase = await createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n\n  if (!user) {\n    redirect('/login')\n  }\n\n  // Fetch waitlist data\n  const { data: waitlist, error: waitlistError } = await supabase\n    .from('waitlists')\n    .select('*')\n    .eq('id', id)\n    .eq('owner_id', user.id)\n    .single()\n\n  if (waitlistError || !waitlist) {\n    notFound()\n  }\n\n  // Fetch signups for this waitlist\n  const { data: signups } = await supabase\n    .from('signups')\n    .select('*')\n    .eq('waitlist_id', id)\n    .order('position', { ascending: true, nullsFirst: false })\n\n  // Get base URL for signup link\n  const baseUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  const signupUrl = `${baseUrl}/w/${waitlist.id}`\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      {/* Header Navigation */}\n      <header className=\"container mx-auto px-4 py-6\">\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/dashboard\" className=\"text-gray-600 hover:text-gray-900\">\n              ‚Üê Back\n            </Link>\n            <div className=\"text-2xl font-bold text-gray-900\">\n              üé£ BaitList\n            </div>\n          </div>\n          <nav className=\"flex space-x-6 items-center\">\n            <span className=\"text-sm text-gray-600\">{user.email}</span>\n            <form action=\"/auth/signout\" method=\"post\">\n              <button\n                type=\"submit\"\n                className=\"text-gray-700 hover:text-gray-900 transition-colors\"\n              >\n                Sign out\n              </button>\n            </form>\n          </nav>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-6xl mx-auto\">\n          {/* Waitlist Header */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n              {waitlist.name}\n            </h1>\n            {waitlist.description && (\n              <p className=\"text-gray-600 mb-4\">{waitlist.description}</p>\n            )}\n            \n            {/* Signup URL */}\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Share this URL to collect signups:\n              </label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={signupUrl}\n                  readOnly\n                  className=\"flex-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 text-sm\"\n                />\n                <CopyUrlButton url={signupUrl} />\n              </div>\n            </div>\n\n            {/* Stats */}\n            <div className=\"mt-6 flex gap-6\">\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-gray-900\">{signups?.length || 0}</p>\n                <p className=\"text-sm text-gray-600\">Total Signups</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-green-600\">\n                  {signups?.filter(s => s.status === 'approved').length || 0}\n                </p>\n                <p className=\"text-sm text-gray-600\">Approved</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-yellow-600\">\n                  {signups?.filter(s => s.status === 'pending').length || 0}\n                </p>\n                <p className=\"text-sm text-gray-600\">Pending Review</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-blue-600\">\n                  {signups?.filter(s => s.status === 'waitlist').length || 0}\n                </p>\n                <p className=\"text-sm text-gray-600\">In Waitlist</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Signups Table */}\n          <div className=\"mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Signups</h2>\n            <SignupsTable signups={signups || []} waitlistName={waitlist.name} />\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"container mx-auto px-4 py-8 text-center\">\n        <p className=\"text-gray-600 text-sm\">\n          ¬© {new Date().getFullYear()} BaitList ‚Äî only the best bites.\n        </p>\n      </footer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}